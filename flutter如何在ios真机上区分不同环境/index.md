在开发 flutter iOS 升级调试的过程中我们会遇到这样一个问题比如我们的数据是存在本地的那么我们可能会分为测试环境、开发环境以及生产环境
这三个环境在 ios 上对应的就是三个 app.在 iOS 上每个 App 都有一个对应的 Bundle ID 所以我们需要在 Developer Environment 还有测试环境我们以及最后发布到应用商店的环境我们需要三个不同的 Bundle ID.
但是 flutter 又不和 web 一样 Web 直接指令通过环境变量来指定.
为什么使用 Flutter 开发 iOS 或 Android 会如此特殊是因为我们的程序是先写在 flutter 里面然后 flutter 它会转移一部分在 Xcode 或者 Android studio 里面它再去打包成对应的所以说中间像套一层就不是很方便操作里面的就是通过变量来设置某个环境参数
那我们开始吧 我们直接开始设置xcode的如何配置不同环境面向下对应不同的 bundle id
首先打开我们的flutter green的ls文件使用xcode打开我们可以看到中间有一个runner这个东西大家注意这个东西这个在Xcode里面称为schema不同的schema会对应一个不同的打包逻辑我们在 Flutter build iOS 的时候就可以通过指定 schema 的名字来实现不同的打包轮
那我们如果不指定一个就是一个schema的话他默认的就是你第一个runner
OK 第一步先点左边点一下Runner这个Menu左边有一个Project,里面有info,点击info,我们可以看到Debug/Release/Profile分别对应不同环境下打包的一些参数。
那么我们默认的就是呃我们在呃开发环境默认就是debug我们在发布到那个的话默认就是 release
注意这里的debug release和profile它们配置的bundle id都是一个所以你在开发环境使用侦记调试如果你发布到appstore里面再下载下来你们下载是同一个文件它会把它覆盖你们的数据就混成使用一个数据源所以这里我们就不管它们我们添加两个新的configuration
我们点击加号就能看到Duplicate Debug Profile Release我们就Duplicate Debug Release两个东西就可以了
然后我们再给他们分别的改名改叫 Debug.dev.release.dev
OK,好了之后这个就表示我们可以这个是跟runner进行绑定的我们就可以指定他们去绑定不同的runner那我们原本的debug profile-release 绑定的是runner那我们新创建的dev 为结尾的就会绑定一个新的schema

接著我们往左边看看到Project下面有一个Targets,Targets我们依旧点击Runner
点击Runner之后我们可以看到上面的Tab有很多东西那这时候我们点击Build Settings我们在那个future框里面搜索user defined
接著我们添加一个变样叫APP DISPLAY NAME
我们点击加号就可以选中对应的Build Configuration我们给它填上不同的名字这个就看你们自己来了
接著我们前面说过不同的App对应一个不同的Bundle ID那么我们点回旁边的Targets,Runner,然后我们点General
之后我们再去看到下面有个an identity我们看到有个bundle identifier然后旁边有一个箭头我们点击一下
点进去后,会看到有不同的Bundle Identifier我们填入自己的不同的就行了
我们点击 Manage Schema然后找到我们的Runner Duplicate 就可以了我们点击+号之后target选择runner然后取个新的名字就可以了
然后我们退出来之后我们再点击runner点击added schema
我们先选择我们刚刚创建的schema
然后我们再点击Added Schema
左边有 build run test profile然后我们首先先选先选
我们先选Wrong我们可以看到左边的infoBuild Configuration 是Debug那我们这里选择我们创建的Debug